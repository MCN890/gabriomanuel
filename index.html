<!doctype html>
<html lang="pt">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Login ‚Äî Acesso</title>
    <link rel="stylesheet" href="login.css">

    <!-- Script para toggle de visibilidade da password -->
    <script defer>
        document.addEventListener('DOMContentLoaded', function () {
            const toggle = document.querySelector('.toggle-btn');
            const pwd = document.getElementById('codigo');
            const form = document.getElementById('loginForm');
            const errorBox = document.getElementById('client-error');

            // Mostrar/ocultar c√≥digo
            if (toggle && pwd) {
                toggle.addEventListener('click', function (e) {
                    e.preventDefault();
                    const isPassword = pwd.type === 'password';
                    pwd.type = isPassword ? 'text' : 'password';
                    toggle.setAttribute('aria-pressed', String(!isPassword));
                    toggle.title = isPassword ? 'Ocultar c√≥digo' : 'Mostrar c√≥digo';
                });
            }

            // Valida√ß√£o do c√≥digo
            form.addEventListener('submit', function (e) {
                e.preventDefault();
                const valor = pwd.value.trim();
                if (valor === "123456") {
                    // Redireciona para a p√°gina inicial
                    window.location.href = "pagInicial.html";
                } else {
                    errorBox.textContent = "C√≥digo incorreto. Tente novamente.";
                    errorBox.style.display = "block";
                }
            });
        });
    </script>
</head>

<body>
    <main class="container" aria-labelledby="login-title">
        <header class="brand">
            <div class="logo">GM</div>
            <div>
                <h1 id="login-title">Bem‚Äëvindo √† minha Web Page</h1>
                <p class="lead">Por favor, insira o c√≥digo de acesso para continuar.</p>
            </div>
        </header>

        <h2>Autentica√ß√£o</h2>

        <!-- Mensagem de erro (JS controla a exibi√ß√£o) -->
        <div id="client-error" class="feedback error" role="alert" aria-live="assertive" style="display:none;"></div>

        <form id="loginForm" novalidate>
            <div class="form">
                <label class="label" for="codigo">Digite o c√≥digo de acesso:</label>
                <div class="input-wrap">
                    <input type="password" id="codigo" name="codigo" placeholder="Digite o c√≥digo"
                        autocomplete="one-time-code" required aria-required="true" aria-describedby="login-help">
                    <button class="toggle-btn" type="button" aria-pressed="false"
                        aria-label="Mostrar c√≥digo">üëÅÔ∏è</button>
                </div>

                <div id="login-help" class="feedback" aria-hidden="true">Mantenha seu c√≥digo em seguran√ßa.</div>

                <button class="btn alt-hover" type="submit">Entrar</button>
            </div>
        </form>

        <noscript>
            <p class="feedback">JavaScript est√° desativado no seu navegador ‚Äî ative-o para usar o login.</p>
        </noscript>
    </main>
</body>

</html>